# 视觉体验与个性化提升指南

本文档旨在指导开发者如何通过技术手段提升管理系统的视觉表现力、交互流畅度以及个性化体验。

---

## 1. 暗黑模式 (Dark Mode)

由于系统涉及大量监控指标和日志，支持暗黑模式可以显著降低用户视觉疲劳。

### 实现步骤

1. **安装依赖**:
   ```bash
   pnpm add @vueuse/core
   ```
2. **逻辑集成**:
   在 `src/app/stores/ui.ts` 中添加切换逻辑：
   ```typescript
   import { useDark, useToggle } from "@vueuse/core";
   const isDark = useDark();
   const toggleDark = useToggle(isDark);
   ```
3. **Element Plus 适配**:
   在 `main.ts` 中引入暗黑模式样式：
   ```typescript
   import "element-plus/theme-chalk/dark/css-vars.css";
   ```

### AI 实施建议

- 检查 `html` 标签是否包含 `dark` 类名。
- 确保 ECharts 图表的主题随系统自动切换（使用 `echarts.registerTheme` 或动态切换 `init` 时的主题参数）。

---

## 2. 微交互与动画 (Micro-interactions)

微小的动画反馈能让应用显得更“轻量”且“智能”。

### 页面过渡动画

在 `App.vue` 中为路由出口包裹 `transition`：

```html
<router-view v-slot="{ Component }">
  <transition name="fade-transform" mode="out-in">
    <component :is="Component" />
  </transition>
</router-view>
```

### 加载体验 (Skeleton Screens)

在 [Dashboard.vue](file:///home/devbox/project/frontend-vue/src/app/views/Dashboard.vue) 中，使用 `el-skeleton` 代替传统的 Loading：

```html
<el-skeleton :loading="loading" animated>
  <template #template>
    <el-skeleton-item variant="rect" style="height: 240px" />
  </template>
  <template #default>
    <cpu-chart />
  </template>
</el-skeleton>
```

---

## 3. 响应式布局精细化

利用已有的 [useResponsive.ts](file:///home/devbox/project/frontend-vue/src/app/composables/useResponsive.ts) 进行深度适配。

### 策略

- **侧边栏自动收起**: 当屏幕宽度 `< 992px` 时，通过 `uiStore` 自动将侧边栏设为 `collapsed` 状态。
- **数据卡片堆叠**: 在移动端将 `el-row/el-col` 的 `span` 设置为 24，确保图表和列表全屏展示。

---

## 4. AI 诊断交互增强 (UX for AI)

[Diagnosis.vue](file:///home/devbox/project/frontend-vue/src/app/views/Diagnosis.vue) 是项目的核心竞争力，需重点优化。

### 关键点

- **流式打字机**: 使用 `requestAnimationFrame` 优化字符渲染速度，避免长文本导致的页面闪烁。
- **自动锚点**: 当 AI 正在回复时，对话框应保持自动滚动到底部，除非用户手动向上滚动。
- **代码块增强**: 集成 `prismjs` 或 `highlight.js`，并为代码块添加“一键复制”按钮。

---

## 5. 主题定制 (Theme Customization)

通过 CSS 变量实现“一键换肤”。

### 实施方案

你可以直接在 [App.vue](file:///home/devbox/project/frontend-vue/src/app/App.vue) 的 `<style>` 块中或新建 `src/app/styles/variables.css` 定义核心品牌色：

```css
:root {
  --el-color-primary: #0ea5e9; /* 项目当前使用的蓝色 */
  --app-bg-color: #f0f9ff;
}
```

[data-theme='green'] {
--el-color-primary: #67c23a;
}

```

---

## AI 实施指令 (For AI Assistants)

如果你是一个 AI 助手，在执行此类任务时请遵循以下原则：
1. **优先使用 CSS 变量**: 不要硬编码颜色值。
2. **保持一致性**: 确保所有新添加的动画曲线（Timing Function）统一使用 `cubic-bezier(0.4, 0, 0.2, 1)`。
3. **性能优先**: 避免在每一帧都进行复杂的 DOM 计算，优先使用 `transform` 和 `opacity` 进行动画。
4. **组件解耦**: 所有的动画和主题逻辑应尽量通过 `Composable` 或 `Store` 注入，保持视图组件的简洁。
```
