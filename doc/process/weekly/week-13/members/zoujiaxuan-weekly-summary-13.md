# 邹佳轩第 13 周学习总结

第 13 周（2025-12-15 至 2025-12-21）

## 本周完成情况概览

### 已完成内容

1.  **服务容器化封装（12/15）**
    - 编写后端服务、数据库与缓存组件的 `Dockerfile`
    - 优化镜像构建分层，利用多阶段构建减少镜像体积（从 800MB 优化至 200MB+）
    - 涉及文件：`backend/Dockerfile`、`database/Dockerfile`

2.  **Docker Compose 编排环境（12/16）**
    - 编写 `docker-compose.yml`，定义服务依赖关系与网络拓扑
    - 实现 `backend`、`postgres`、`redis` 与 `flume` 的一键启停
    - 配置服务健康检查（Healthcheck），确保依赖服务就绪后再启动应用
    - 交付物：完整的 `docker-compose.yml` 与环境启动脚本

3.  **容器数据卷与网络管理（12/17）**
    - 配置持久化数据卷（Volume），保障数据库与日志数据不随容器销毁而丢失
    - 划分内部网络（`backend-net`）与外部网络，隔离数据层与访问层
    - 验证容器间 DNS 解析与服务互通性

4.  **开发环境标准化（12/18）**
    - 统一团队开发环境配置，通过 `.env` 文件管理环境变量
    - 解决 Windows/Linux 跨平台文件路径与权限差异问题
    - 输出《本地容器化开发环境搭建指南》

### 部分完成/待完善内容

1.  K8s 部署清单（Manifests）仅完成初步草案，尚未在 Minikube/Kind 环境完整验证
2.  容器日志尚未统一收集到 Flume，目前仍依赖 `docker logs` 查看

### 各领域掌握程度评估

#### 容器技术

- 掌握状态：熟练掌握 Docker 构建与 Compose 编排
- 具体表现：独立完成多服务环境的封装与网络配置
- 能力描述：具备将传统应用迁移至容器化架构的能力

#### 开发运维（DevOps）

- 掌握状态：初步建立“配置即代码”的意识
- 具体表现：通过 Compose 文件固化运行环境，消除环境差异
- 能力描述：能够为团队提供标准化的开发基础设施

## 问题分析与反思

### 主要收益

1.  彻底解决了“在我机器上能跑”的环境一致性问题
2.  新成员接入成本大幅降低，一条命令即可拉起完整后端环境
3.  通过容器化隔离，避免了本地依赖冲突

### 存在不足与改进方向

1.  镜像构建速度较慢，需引入构建缓存或国内镜像源优化
2.  容器资源限制（CPU/Memory）未做精细化配置，可能导致 OOM
3.  缺乏容器内部的监控手段

## 下周重点与计划

1.  引入 Prometheus + Grafana，搭建容器与数据库监控体系
2.  研究 PostgreSQL 的高可用架构（如 Patroni），并在容器环境中模拟故障切换
3.  优化镜像构建流水线，尝试接入 CI/CD 流程



