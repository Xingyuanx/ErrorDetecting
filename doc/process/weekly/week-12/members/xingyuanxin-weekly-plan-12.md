# 邢远鑫第12周详细工作计划

## 基本信息
- **姓名**: 邢远鑫  
- **计划周期**: 第12周（2025-12-08 至 2025-12-14）  
- **项目**: 大模型数据平台故障检测项目  
- **计划制定时间**: 2025-12-08  
- **工作时间**: 每天20:00-21:30（1.5小时/天，共10.5小时）

## 本周核心目标

### 主要任务概览
本周采用“**认证扩展（前3天） + 跨模块鉴权联调（后4天）**”两阶段模式，围绕登录后的权限与会话管理、跨模块接口的统一鉴权与错误处理，完善用户体验与测试文档闭环。

### 核心目标
1. **权限与角色策略**：定义角色与权限映射，完成路由守卫与接口鉴权，统一前端显示控制
2. **用户信息与设置**：实现用户信息展示、密码修改（若后端支持）、登出与自动登录策略优化
3. **跨模块鉴权联调**：在鉴权前提下完成 Cluster/Logs/Metrics/Diagnosis/Repair 的稳定调用与错误处理
4. **稳定性优化**：SSE/WS 重连与心跳策略优化；Logs 下载断点续传/重试（视后端支持）
5. **测试与文档**：补齐封装层单测与端到端联调用例；更新 Postman 集合与接口文档

### 质量目标
- 可用性：鉴权后各模块调用稳定、错误提示清晰  
- 一致性：字段与错误码统一映射，前后端口径一致  
- 可维护性：封装清晰、测试覆盖关键路径、文档完备

---

## 周一（2025-12-08）
**主题：权限与角色策略设计**

### 20:00-21:30：角色与路由守卫
- **任务**：定义角色（如admin/user）与权限点，路由守卫与显示控制实现
- **方法**：在封装层统一 `me` 响应解析，基于角色控制导航与按钮显隐
- **产出**：角色-权限映射表、路由守卫与显示控制示例

---

## 周二（2025-12-09）
**主题：用户信息与设置页**

### 20:00-21:30：用户中心与密码修改
- **任务**：用户信息展示、修改密码（若后端支持）、登出回退与自动登录策略优化
- **方法**：统一错误提示与校验规则；完善令牌安全策略（不打印敏感信息）
- **产出**：用户中心界面与交互稿、设置接口调用示例

---

## 周三（2025-12-10）
**主题：Cluster/Logs 鉴权联调**

### 20:00-21:30：概览/列表与下载权限
- **任务**：在鉴权前提下联调 Cluster 概览与节点列表；打通 Logs 下载权限与边界场景
- **方法**：统一 `Authorization`、错误码映射与用户提示；下载重试与失败回退策略
- **产出**：联调报告与问题清单、权限用例与修复记录

---

## 周四（2025-12-11）
**主题：Metrics 鉴权与实时优化**

### 20:00-21:30：SSE/WS 稳定性
- **任务**：鉴权校验下联调实时指标；优化断线重连与心跳策略，降低延迟与重连失败率
- **方法**：记录延迟与重连次数；退避策略与状态回调统一提示
- **产出**：实时联调与稳定性报告、优化参数记录

---

## 周五（2025-12-12）
**主题：Diagnosis/Repair 鉴权闭环**

### 20:00-21:30：端到端流程与错误处理
- **任务**：在鉴权前提下完成触发→执行→状态查询→结果展示闭环；统一异常提示
- **方法**：标准化响应字段与状态机；轮询与取消机制封装
- **产出**：流程演示与问题清单、修复记录

---

## 周六（2025-12-13）
**主题：Postman 集合与测试补齐**

### 20:00-21:30：集合更新与单测用例
- **任务**：更新集合（Auth/Cluster/Logs/Metrics/Diagnosis/Repair）；编写封装层单测与端到端用例
- **方法**：为关键接口添加响应断言与脚本；模拟权限/超时/错误码/失败重试场景
- **产出**：最新集合与环境文件、单元测试与联调报告

---

## 周日（2025-12-14）
**主题：端到端验证与周总结**

### 20:00-21:30：闭环验证与复盘
- **任务**：执行“登录→鉴权→跨模块调用”端到端验证；梳理问题与后续计划
- **方法**：记录成功率、错误率、平均时延与重连次数；完善接口与封装文档
- **产出**：联调与验证报告、周总结草稿

---

## 风险评估与应对策略
- **权限与错误码不一致**：建立映射与变更记录，集中联调日修正  
- **下载断点续传受限**：若后端不支持，提供替代重试策略与用户提示  
- **时间不足**：优先完成鉴权闭环与跨模块联调，体验优化延后

## 学习资源与参考资料
- 项目文档：`doc/api/fronted-interface.md`  
- Postman 官方文档与集合脚本示例  
- SSE/WS 实践文章与重连策略参考（方法论，不引入新库）

## 预期成果与交付物

### 主要交付物
| 类别 | 交付物 | 具体内容 |
|------|--------|----------|
| **权限与界面** | 用户中心与路由守卫 | 角色映射/显示控制/登出与自动登录策略 |
| **接口封装** | 鉴权封装与测试 | 响应处理/错误码映射/超时重试/实时管理 |
| **联调与文档** | 报告与集合 | 联调报告、问题清单与修复记录、Postman 集合与文档 |

### 质量标准
- 可用性：鉴权后调用稳定可靠、错误提示清晰  
- 可维护性：封装清晰、测试覆盖关键路径、文档完备  
- 一致性：字段与状态码口径统一，团队协作无歧义

---
**计划制定时间**: 2025-12-08  
**计划执行周期**: 2025-12-08 至 2025-12-14  
**个人目标**: 完成登录后权限与会话管理、跨模块鉴权联调闭环，统一错误码口径，形成可复用的封装与文档产出
