# 邹佳轩第 14 周学习计划

第 14 周（2025-12-22 至 2025-12-28）

## 本周学习目标

1.  **全栈监控体系搭建**：引入 Prometheus + Grafana，实现对容器、主机及中间件的全面监控。
2.  **可视化仪表盘配置**：定制数据库性能与系统资源大屏，实现核心指标的可视化。
3.  **数据库高可用探索**：研究并验证 PostgreSQL 的主从复制与故障自动切换方案。

## 详细学习任务

### 1. 监控基础设施部署
- [ ] 部署 Prometheus Server 与 Grafana 容器，并挂载持久化存储。
- [ ] 配置 `node_exporter` 采集主机硬件指标（CPU/Mem/Disk）。
- [ ] 配置 `cadvisor` 采集 Docker 容器的实时资源使用情况。

### 2. 应用与中间件监控
- [ ] 接入 `postgres_exporter`，采集数据库连接数、缓存命中率、死锁等关键指标。
- [ ] 接入 `redis_exporter`，监控缓存服务的吞吐量与延迟。
- [ ] 在 Grafana 中导入并优化社区标准的 Dashboard 模板。

### 3. 高可用架构演练
- [ ] 调研 PostgreSQL 高可用方案（Patroni / Repmgr）。
- [ ] 搭建一主一从（Primary-Standby）的数据库集群。
- [ ] 模拟主节点宕机场景，验证从节点的自动提升（Failover）流程。

## 预估产出物

1.  监控服务全套 Compose 配置（含 Exporters）。
2.  Grafana 监控大屏 JSON 导出文件。
3.  《PostgreSQL 高可用方案选型与测试报告》。

## 重点难点分析

- **难点**：在容器网络环境下实现 VIP（虚拟 IP）漂移或客户端自动重连。
- **对策**：重点测试驱动层（JDBC/Psycopg2）的连接参数配置，确保应用能感知主从切换。

---

**计划人**：邹佳轩
**制定时间**：第 14 周初
