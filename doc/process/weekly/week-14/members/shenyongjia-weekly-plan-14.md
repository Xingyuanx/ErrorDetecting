# 第十四周周计划（沈永佳）

## 核心目标
- **系统功能收尾**：完成剩余的所有核心功能模块开发，确保系统具备完整的业务闭环能力。
- **集群访问攻坚**：彻底解决跨网段/跨环境下的集群访问与通信问题（如 SSH 超时、UUID 探测失败）。
- **智能体工具链**：打通 AI Agent 的工具调用（Tool Calling）链路，实现“诊断-修复”自动化。
- **页面深度联调**：完成前端页面与后端接口的深度对接，修复交互体验问题。

## 详细计划
### 1. 系统功能收尾
- **任务内容**：
  - 梳理并补全尚未实现的 API 接口（如高级监控查询、批量运维操作）。
  - 完善异常处理机制，确保所有 500 错误均有对应的友好提示。
- **验收标准**：后端接口覆盖率达到 95% 以上，关键业务流程无阻断性 Bug。

### 2. 集群访问问题解决
- **任务内容**：
  - 排查并修复后端服务器到 Hadoop 节点的网络连通性问题（端口转发/路由配置）。
  - 优化 `ssh_utils` 中的超时重试机制，增加对网络抖动的容忍度。
- **验收标准**：`telnet` 与 `ssh` 连接稳定，集群注册成功率 100%。

### 3. AI 工具调用实现
- **任务内容**：
  - 在 `DiagnosisAgent` 中实现真实的工具执行逻辑（如 `exec_command`, `fetch_logs`）。
  - 调试 LLM 对 Function Calling 的响应格式，确保参数解析准确。
- **验收标准**：AI 能准确识别用户意图并调用对应工具，输出执行结果。

### 4. 页面深度联调
- **任务内容**：
  - 配合前端修复数据展示延迟、状态不同步等 UI 问题。
  - 验证 AI 对话组件的流式输出与 Markdown 渲染效果。
- **验收标准**：前端页面操作流畅，控制台无报错，用户体验符合预期。

## 风险与应对
- **网络环境复杂**：若物理网络不可达，需准备反向代理或 VPN 方案作为备选。
- **LLM 响应不可控**：增加 Prompt 约束与后处理校验，防止 AI 幻觉导致错误操作。
