@startuml
title æ•…éšœæ£€æµ‹ç³»ç»Ÿ - è¯¦ç»†ç•Œé¢åŸå‹
skinparam defaultFontName Microsoft YaHei
skinparam backgroundColor #FFFFFF

!define PRIMARY #1976D2
!define SUCCESS #4CAF50
!define WARNING #FF9800
!define DANGER #F44336
!define LIGHT #F5F5F5

package "ä¸»ç•Œé¢æ¡†æ¶" as MainFrame {
  
  rectangle "é¡¶éƒ¨å¯¼èˆªæ  (é«˜åº¦: 60px)" as TopNavBar PRIMARY {
    rectangle "Logo\næ•…éšœæ£€æµ‹ç³»ç»Ÿ" as Logo
    rectangle "é›†ç¾¤çŠ¶æ€ â—" as StatusIndicator SUCCESS
    rectangle "æ—¥å¿—æŸ¥è¯¢" as LogsNav
    rectangle "æ•…éšœè¯Šæ–­" as DiagnoseNav  
    rectangle "è‡ªåŠ¨ä¿®å¤" as RepairNav
    rectangle "ç³»ç»Ÿé…ç½®" as ConfigNav
    rectangle "admin â–¼" as UserDropdown
  }
  
  rectangle "ä¸»ä½“åŒºåŸŸ" as MainBody {
    rectangle "ä¾§è¾¹æ  (å®½åº¦: 240px)" as SidebarArea LIGHT {
      rectangle "ğŸ“Š ä»ªè¡¨æ¿" as DashboardMenu
      rectangle "ğŸ–¥ï¸ é›†ç¾¤ç›‘æ§" as ClusterMenu
      rectangle "ğŸ“ æ—¥å¿—ç®¡ç†" as LogMenu
      rectangle "âš ï¸ æ•…éšœå¤„ç†" as FaultMenu
      rectangle "ğŸ”§ ä¿®å¤å†å²" as HistoryMenu
      rectangle "âš™ï¸ ç³»ç»Ÿè®¾ç½®" as SettingsMenu
    }
    
    rectangle "å†…å®¹åŒºåŸŸ" as ContentArea {
      rectangle "é¢åŒ…å±‘å¯¼èˆª" as Breadcrumb
      rectangle "é¡µé¢å†…å®¹" as PageContent
    }
  }
}

package "ä»ªè¡¨æ¿é¡µé¢å†…å®¹" as DashboardContent {
  rectangle "ç»Ÿè®¡å¡ç‰‡åŒº (4åˆ—å¸ƒå±€)" as StatsCards {
    rectangle "é›†ç¾¤èŠ‚ç‚¹\nğŸ–¥ï¸ 12/15\næ­£å¸¸è¿è¡Œ" as NodeCard SUCCESS
    rectangle "æ´»è·ƒå‘Šè­¦\nâš ï¸ 3\néœ€è¦å…³æ³¨" as AlertCard WARNING  
    rectangle "ä»Šæ—¥æ•…éšœ\nâŒ 1\nå·²ä¿®å¤" as FaultCard DANGER
    rectangle "ä¿®å¤æˆåŠŸç‡\nâœ… 95%\næœ¬å‘¨ç»Ÿè®¡" as SuccessCard SUCCESS
  }
  
  rectangle "ç›‘æ§å›¾è¡¨åŒº (2åˆ—å¸ƒå±€)" as ChartsArea {
    rectangle "CPUä½¿ç”¨ç‡è¶‹åŠ¿\n[æŠ˜çº¿å›¾åŒºåŸŸ]\nğŸ“ˆ è¿‡å»24å°æ—¶" as CPUChart
    rectangle "å†…å­˜ä½¿ç”¨ç‡è¶‹åŠ¿\n[æŠ˜çº¿å›¾åŒºåŸŸ]\nğŸ“Š è¿‡å»24å°æ—¶" as MemChart
  }
  
  rectangle "æœ€è¿‘æ•…éšœè¡¨æ ¼" as RecentFaultsTable {
    rectangle "è¡¨æ ¼æ ‡é¢˜: æœ€è¿‘æ•…éšœ (åˆ·æ–°æŒ‰é’®)" as TableHeader
    rectangle "ID | ç±»å‹ | å‘ç”Ÿæ—¶é—´ | çŠ¶æ€ | æ“ä½œ\n001 | DataNodeç¦»çº¿ | 10:30 | å·²ä¿®å¤ | æŸ¥çœ‹\n002 | ç£ç›˜ç©ºé—´ä¸è¶³ | 09:15 | ä¿®å¤ä¸­ | æŸ¥çœ‹\n003 | ç½‘ç»œè¿æ¥å¼‚å¸¸ | 08:45 | å¾…å¤„ç† | è¯Šæ–­" as TableRows
  }
}

package "æ—¥å¿—æŸ¥è¯¢é¡µé¢å†…å®¹" as LogQueryContent {
  rectangle "æœç´¢æ¡ä»¶æ " as SearchBar LIGHT {
    rectangle "æ—¶é—´èŒƒå›´:\n[å¼€å§‹æ—¶é—´] - [ç»“æŸæ—¶é—´]" as TimeSelector
    rectangle "æ—¥å¿—çº§åˆ«:\nâ˜‘ï¸ERROR â˜‘ï¸WARN â˜INFO â˜DEBUG" as LevelFilter
    rectangle "å…³é”®è¯:\n[æœç´¢æ¡†] ğŸ”" as SearchInput
    rectangle "ä¸»æœº:\n[ä¸‹æ‹‰é€‰æ‹©] å…¨éƒ¨ä¸»æœº â–¼" as HostSelector
  }
  
  rectangle "æ“ä½œæŒ‰é’®æ " as ActionBar {
    rectangle "ğŸ” æœç´¢" as SearchBtn PRIMARY
    rectangle "ğŸ”„ é‡ç½®" as ResetBtn
    rectangle "ğŸ“¤ å¯¼å‡º" as ExportBtn
    rectangle "ğŸ”¬ æ‰¹é‡è¯Šæ–­" as BatchDiagnoseBtn WARNING
  }
  
  rectangle "æ—¥å¿—åˆ—è¡¨è¡¨æ ¼" as LogTable {
    rectangle "â˜‘ï¸ | æ—¶é—´ | ä¸»æœº | çº§åˆ« | æ¥æº | æ¶ˆæ¯ | æ“ä½œ\nâ˜ | 10:35:22 | node-1 | ERROR | HDFS | Connection failed | è¯Šæ–­\nâ˜ | 10:34:15 | node-2 | WARN | YARN | Memory usage high | è¯Šæ–­\nâ˜‘ï¸ | 10:33:08 | node-1 | ERROR | HDFS | Disk space low | è¯Šæ–­" as LogRows
  }
  
  rectangle "åˆ†é¡µæ§ä»¶" as PaginationControl {
    rectangle "å…± 1,234 æ¡ | æ¯é¡µ 50 æ¡ | â—€ï¸ 1 2 3 ... 25 â–¶ï¸" as Pagination
  }
}

package "æ•…éšœè¯Šæ–­é¡µé¢å†…å®¹" as DiagnoseContent {
  rectangle "è¯Šæ–­é…ç½®é¢æ¿" as DiagnosePanel LIGHT {
    rectangle "å·²é€‰æ‹©æ—¥å¿—: 3 æ¡\n[æ˜¾ç¤ºé€‰ä¸­çš„æ—¥å¿—æ‘˜è¦]" as SelectedLogs
    rectangle "è¯Šæ–­æ¨¡å‹:\nğŸ¤– GPT-4 â–¼ | ğŸ”§ Claude â–¼" as ModelSelection
    rectangle "åˆ†ææ·±åº¦:\nâ—‹ å¿«é€Ÿåˆ†æ â— æ·±åº¦åˆ†æ â—‹ å…¨é¢åˆ†æ" as AnalysisDepth
  }
  
  rectangle "è¯Šæ–­æ§åˆ¶" as DiagnoseControl {
    rectangle "ğŸš€ å¼€å§‹è¯Šæ–­" as StartBtn SUCCESS
    rectangle "â¹ï¸ åœæ­¢è¯Šæ–­" as StopBtn DANGER
    rectangle "ğŸ“‹ æŸ¥çœ‹å†å²" as HistoryBtn
  }
  
  rectangle "è¯Šæ–­è¿›åº¦æ˜¾ç¤º" as ProgressDisplay {
    rectangle "è¯Šæ–­è¿›åº¦: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80%\nå½“å‰çŠ¶æ€: æ­£åœ¨åˆ†ææ—¥å¿—æ¨¡å¼...\né¢„è®¡å‰©ä½™: 30ç§’" as ProgressInfo
  }
  
  rectangle "è¯Šæ–­ç»“æœå±•ç¤º" as ResultDisplay {
    rectangle "ğŸ” æ•…éšœç±»å‹: DataNodeè¿æ¥å¼‚å¸¸\nğŸ“‹ æ ¹æœ¬åŸå› : ç½‘ç»œé…ç½®é”™è¯¯å¯¼è‡´èŠ‚ç‚¹æ— æ³•è¿æ¥\nğŸ’¡ ä¿®å¤å»ºè®®: é‡å¯ç½‘ç»œæœåŠ¡å¹¶æ›´æ–°é…ç½®\nâš ï¸ é£é™©ç­‰çº§: ä¸­ç­‰ (éœ€è¦ç¡®è®¤)" as DiagnoseResults
    rectangle "ğŸ”§ ç”Ÿæˆä¿®å¤æ–¹æ¡ˆ" as GenerateRepairBtn WARNING
  }
}

package "è‡ªåŠ¨ä¿®å¤é¡µé¢å†…å®¹" as RepairContent {
  rectangle "ä¿®å¤æ–¹æ¡ˆé¢„è§ˆ" as RepairPreview LIGHT {
    rectangle "ä¿®å¤è„šæœ¬:\n```bash\nsudo systemctl restart network\nsudo hdfs dfsadmin -refreshNodes\n```\nå½±å“èŒƒå›´: node-1\né¢„è®¡æ—¶é—´: 2åˆ†é’Ÿ" as ScriptPreview
  }
  
  rectangle "é£é™©è¯„ä¼°" as RiskAssessment WARNING {
    rectangle "âš ï¸ é£é™©ç­‰çº§: ä¸­ç­‰\nğŸ“ é£é™©è¯´æ˜: é‡å¯ç½‘ç»œæœåŠ¡å¯èƒ½çŸ­æš‚å½±å“æ•°æ®ä¼ è¾“\nğŸ”„ å›æ»šæ–¹æ¡ˆ: è‡ªåŠ¨æ¢å¤åŸé…ç½®" as RiskInfo
  }
  
  rectangle "æ‰§è¡Œç¡®è®¤" as ExecutionConfirm {
    rectangle "â˜‘ï¸ æˆ‘å·²äº†è§£é£é™©å¹¶ç¡®è®¤æ‰§è¡Œ\nâ˜‘ï¸ å·²é€šçŸ¥ç›¸å…³äººå‘˜\nâ˜ åœ¨ç»´æŠ¤çª—å£æœŸæ‰§è¡Œ" as ConfirmChecks
    rectangle "ğŸš€ æ‰§è¡Œä¿®å¤" as ExecuteBtn SUCCESS
    rectangle "âŒ å–æ¶ˆ" as CancelBtn
  }
  
  rectangle "æ‰§è¡Œç›‘æ§" as ExecutionMonitor {
    rectangle "æ‰§è¡ŒçŠ¶æ€: ğŸ”„ æ‰§è¡Œä¸­...\nå¼€å§‹æ—¶é—´: 10:45:30\næ‰§è¡Œæ—¥å¿—:\n[10:45:31] å¼€å§‹æ‰§è¡Œä¿®å¤è„šæœ¬...\n[10:45:32] æ­£åœ¨é‡å¯ç½‘ç»œæœåŠ¡...\n[10:45:35] ç½‘ç»œæœåŠ¡é‡å¯å®Œæˆ\n[10:45:36] æ­£åœ¨åˆ·æ–°HDFSèŠ‚ç‚¹..." as ExecutionLogs
  }
}

package "å¼¹çª—ç»„ä»¶è®¾è®¡" as ModalDesigns {
  rectangle "é«˜é£é™©ç¡®è®¤å¼¹çª—" as HighRiskDialog DANGER {
    rectangle "âš ï¸ é«˜é£é™©æ“ä½œç¡®è®¤\n\næ­¤æ“ä½œé£é™©ç­‰çº§ä¸º: é«˜\nå¯èƒ½å½±å“: æ•´ä¸ªé›†ç¾¤ç¨³å®šæ€§\nå»ºè®®æ“ä½œæ—¶é—´: ç»´æŠ¤çª—å£æœŸ\n\nè¯·è¾“å…¥ç¡®è®¤ç : [è¾“å…¥æ¡†]\nç¡®è®¤ç : CONFIRM-2024\n\n[å–æ¶ˆ] [ç¡®è®¤æ‰§è¡Œ]" as HighRiskContent
  }
  
  rectangle "æ‰§è¡Œç»“æœå¼¹çª—" as ResultDialog SUCCESS {
    rectangle "âœ… ä¿®å¤æ‰§è¡ŒæˆåŠŸ\n\næ‰§è¡Œæ—¶é—´: 2åˆ†35ç§’\nå½±å“èŠ‚ç‚¹: node-1\nä¿®å¤çŠ¶æ€: æˆåŠŸ\n\nè¯¦ç»†æ—¥å¿—: [æŸ¥çœ‹å®Œæ•´æ—¥å¿—]\n\n[å…³é—­] [æŸ¥çœ‹è¯¦æƒ…]" as ResultContent
  }
}

@enduml