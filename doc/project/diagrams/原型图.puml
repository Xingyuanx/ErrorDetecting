@startuml
title 故障检测系统 - 原型界面设计
skinparam defaultFontName Microsoft YaHei
skinparam backgroundColor #F8F9FA

!define LIGHTBLUE #E3F2FD
!define LIGHTGREEN #E8F5E8
!define LIGHTYELLOW #FFF3E0
!define LIGHTRED #FFEBEE

package "主界面布局" {
  rectangle "顶部导航栏" as TopNav {
    rectangle "Logo" as Logo
    rectangle "集群状态" as NavStatus
    rectangle "日志查询" as NavLogs  
    rectangle "故障诊断" as NavDiagnose
    rectangle "自动修复" as NavRepair
    rectangle "系统配置" as NavConfig
    rectangle "用户信息" as UserInfo
  }
  
  rectangle "侧边栏" as Sidebar {
    rectangle "仪表板" as MenuDash
    rectangle "集群监控" as MenuCluster
    rectangle "日志管理" as MenuLogMgmt
    rectangle "故障处理" as MenuFault
    rectangle "修复历史" as MenuHistory
    rectangle "系统设置" as MenuSettings
  }
  
  rectangle "主内容区" as MainContent {
    rectangle "内容展示区域" as ContentArea
  }
}

package "仪表板页面" as Dashboard {
  rectangle "集群概览卡片" as ClusterOverview LIGHTBLUE {
    rectangle "节点状态统计" as NodeStats
    rectangle "资源使用率" as ResourceUsage
    rectangle "告警数量" as AlertCount
  }
  
  rectangle "实时监控图表" as RealtimeCharts LIGHTGREEN {
    rectangle "CPU使用率趋势" as CPUChart
    rectangle "内存使用率趋势" as MemoryChart
    rectangle "磁盘I/O趋势" as DiskChart
  }
  
  rectangle "最近故障列表" as RecentFaults LIGHTYELLOW {
    rectangle "故障ID | 类型 | 时间 | 状态" as FaultTable
  }
}

package "日志查询页面" as LogQuery {
  rectangle "搜索条件" as SearchConditions LIGHTBLUE {
    rectangle "时间范围选择器" as TimeRange
    rectangle "日志级别筛选" as LogLevel
    rectangle "关键词搜索" as KeywordSearch
    rectangle "主机筛选" as HostFilter
  }
  
  rectangle "日志列表" as LogList LIGHTGREEN {
    rectangle "时间 | 主机 | 级别 | 消息" as LogTable
    rectangle "分页控件" as Pagination
  }
  
  rectangle "操作按钮" as LogActions LIGHTYELLOW {
    rectangle "导出日志" as ExportLogs
    rectangle "发起诊断" as StartDiagnose
  }
}

package "故障诊断页面" as DiagnosePage {
  rectangle "诊断配置" as DiagnoseConfig LIGHTBLUE {
    rectangle "选择日志范围" as SelectLogs
    rectangle "诊断类型选择" as DiagnoseType
    rectangle "AI模型选择" as ModelSelect
  }
  
  rectangle "诊断进度" as DiagnoseProgress LIGHTGREEN {
    rectangle "进度条" as ProgressBar
    rectangle "当前状态" as CurrentStatus
    rectangle "预计时间" as EstimatedTime
  }
  
  rectangle "诊断结果" as DiagnoseResult LIGHTYELLOW {
    rectangle "故障类型" as FaultType
    rectangle "原因分析" as RootCause
    rectangle "修复建议" as RepairSuggestion
    rectangle "风险等级" as RiskLevel
  }
}

package "自动修复页面" as RepairPage {
  rectangle "修复方案" as RepairPlan LIGHTBLUE {
    rectangle "修复脚本预览" as ScriptPreview
    rectangle "影响范围评估" as ImpactAssessment
    rectangle "回滚方案" as RollbackPlan
  }
  
  rectangle "风险确认" as RiskConfirm LIGHTRED {
    rectangle "风险等级显示" as RiskDisplay
    rectangle "确认复选框" as ConfirmCheckbox
    rectangle "执行按钮" as ExecuteButton
  }
  
  rectangle "执行监控" as ExecutionMonitor LIGHTGREEN {
    rectangle "执行日志实时显示" as ExecutionLogs
    rectangle "执行状态" as ExecutionStatus
    rectangle "停止按钮" as StopButton
  }
}

package "弹窗组件" as Modals {
  rectangle "高风险确认弹窗" as HighRiskModal LIGHTRED {
    rectangle "警告图标" as WarningIcon
    rectangle "风险说明" as RiskDescription
    rectangle "确认按钮" as ConfirmBtn
    rectangle "取消按钮" as CancelBtn
  }
  
  rectangle "执行结果弹窗" as ResultModal LIGHTGREEN {
    rectangle "执行状态图标" as StatusIcon
    rectangle "结果摘要" as ResultSummary
    rectangle "详细日志" as DetailedLogs
    rectangle "关闭按钮" as CloseBtn
  }
}

package "交互流程" as InteractionFlow {
  LogQuery --> DiagnosePage : 选择日志发起诊断
  DiagnosePage --> RepairPage : 诊断完成生成修复方案
  RepairPage --> HighRiskModal : 高风险修复需确认
  HighRiskModal --> ExecutionMonitor : 确认后开始执行
  ExecutionMonitor --> ResultModal : 执行完成显示结果
  
  Dashboard --> LogQuery : 点击故障查看相关日志
  Dashboard --> RepairPage : 快速修复入口
}

package "响应式设计说明" as ResponsiveDesign {
  note as ResponsiveNote
    移动端适配：
    - 顶部导航折叠为汉堡菜单
    - 侧边栏可收起/展开
    - 表格支持横向滚动
    - 图表自适应屏幕宽度
    - 弹窗全屏显示
  end note
}

@enduml