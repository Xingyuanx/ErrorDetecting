/**
 * 响应式设计样式
 * 确保在不同屏幕尺寸下的良好显示效果
 */

/* 基础响应式断点 */
:root {
    --breakpoint-xs: 480px;
    --breakpoint-sm: 768px;
    --breakpoint-md: 1024px;
    --breakpoint-lg: 1200px;
    --breakpoint-xl: 1440px;
}

/* 通用响应式工具类 */
.container {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

.row {
    display: flex;
    flex-wrap: wrap;
    margin: 0 -10px;
}

.col {
    flex: 1;
    padding: 0 10px;
}

/* 隐藏/显示工具类 */
.hidden-xs { display: block; }
.hidden-sm { display: block; }
.hidden-md { display: block; }
.hidden-lg { display: block; }

.visible-xs { display: none; }
.visible-sm { display: none; }
.visible-md { display: none; }
.visible-lg { display: none; }

/* 超小屏幕 (手机) */
@media (max-width: 479px) {
    .hidden-xs { display: none !important; }
    .visible-xs { display: block !important; }
    
    /* 容器调整 */
    .container {
        padding: 0 15px;
    }
    
    /* 应用布局调整 */
    .app-layout {
        flex-direction: column;
    }
    
    .sidebar-container {
        position: fixed;
        top: 0;
        left: -280px;
        width: 280px;
        height: 100vh;
        z-index: 1000;
        transition: left 0.3s ease;
    }
    
    .sidebar-container.active {
        left: 0;
    }
    
    .main-content {
        margin-left: 0;
        padding: 10px;
    }
    
    /* 头部调整 */
    .header-container {
        padding: 10px 15px;
    }
    
    .page-header {
        flex-direction: column;
        gap: 15px;
    }
    
    .header-actions {
        width: 100%;
        justify-content: stretch;
    }
    
    .header-actions .btn {
        flex: 1;
        margin: 0 5px;
    }
    
    /* 卡片布局调整 */
    .dashboard-cards,
    .stats-overview {
        grid-template-columns: 1fr;
        gap: 15px;
    }
    
    .dashboard-card,
    .stat-card {
        padding: 15px;
    }
    
    /* 表格响应式 */
    .data-table {
        font-size: 12px;
    }
    
    .data-table th,
    .data-table td {
        padding: 8px 4px;
    }
    
    /* 隐藏不重要的列 */
    .data-table .hidden-xs {
        display: none;
    }
    
    /* 表单调整 */
    .form-row {
        flex-direction: column;
    }
    
    .form-group {
        margin-bottom: 15px;
    }
    
    /* 按钮调整 */
    .btn-group {
        flex-direction: column;
    }
    
    .btn-group .btn {
        margin: 2px 0;
    }
    
    /* 模态框调整 */
    .modal-content {
        width: 95%;
        margin: 20px auto;
        max-height: 90vh;
    }
    
    /* 图表容器调整 */
    .chart-container {
        height: 250px;
    }
    
    /* 节点卡片调整 */
    .node-card {
        margin-bottom: 15px;
    }
    
    .node-metrics {
        grid-template-columns: 1fr 1fr;
    }
}

/* 小屏幕 (平板竖屏) */
@media (min-width: 480px) and (max-width: 767px) {
    .hidden-sm { display: none !important; }
    .visible-sm { display: block !important; }
    
    /* 容器调整 */
    .container {
        padding: 0 20px;
    }
    
    /* 侧边栏调整 */
    .sidebar-container {
        width: 240px;
    }
    
    .main-content {
        margin-left: 240px;
        padding: 15px;
    }
    
    /* 卡片布局调整 */
    .dashboard-cards,
    .stats-overview {
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
    }
    
    /* 表格调整 */
    .data-table {
        font-size: 13px;
    }
    
    /* 图表容器调整 */
    .chart-container {
        height: 300px;
    }
    
    /* 节点指标调整 */
    .node-metrics {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* 中等屏幕 (平板横屏/小笔记本) */
@media (min-width: 768px) and (max-width: 1023px) {
    .hidden-md { display: none !important; }
    .visible-md { display: block !important; }
    
    /* 卡片布局调整 */
    .dashboard-cards,
    .stats-overview {
        grid-template-columns: repeat(2, 1fr);
        gap: 25px;
    }
    
    /* 图表容器调整 */
    .chart-container {
        height: 350px;
    }
    
    /* 表单布局调整 */
    .form-row {
        display: flex;
        gap: 20px;
    }
    
    .form-row .form-group {
        flex: 1;
    }
}

/* 大屏幕 (桌面) */
@media (min-width: 1024px) and (max-width: 1199px) {
    .hidden-lg { display: none !important; }
    .visible-lg { display: block !important; }
    
    /* 卡片布局调整 */
    .dashboard-cards,
    .stats-overview {
        grid-template-columns: repeat(4, 1fr);
    }
    
    /* 图表容器调整 */
    .chart-container {
        height: 400px;
    }
}

/* 超大屏幕 (大桌面) */
@media (min-width: 1200px) {
    /* 保持默认布局 */
    .dashboard-cards,
    .stats-overview {
        grid-template-columns: repeat(4, 1fr);
    }
    
    .chart-container {
        height: 450px;
    }
}

/* 移动设备横屏优化 */
@media (max-width: 767px) and (orientation: landscape) {
    .dashboard-cards,
    .stats-overview {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .chart-container {
        height: 200px;
    }
    
    .modal-content {
        max-height: 80vh;
    }
}

/* 打印样式 */
@media print {
    .sidebar-container,
    .header-actions,
    .action-btn,
    .btn {
        display: none !important;
    }
    
    .main-content {
        margin-left: 0;
        padding: 0;
    }
    
    .page-header {
        border-bottom: 2px solid #000;
        margin-bottom: 20px;
    }
    
    .dashboard-cards,
    .stats-overview {
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
    }
    
    .chart-container {
        height: 300px;
        border: 1px solid #ccc;
    }
    
    .data-table {
        border-collapse: collapse;
    }
    
    .data-table th,
    .data-table td {
        border: 1px solid #000;
        padding: 8px;
    }
}

/* 高对比度模式支持 */
@media (prefers-contrast: high) {
    .dashboard-card,
    .stat-card,
    .node-card {
        border: 2px solid #000;
    }
    
    .btn {
        border: 2px solid #000;
    }
    
    .form-control {
        border: 2px solid #000;
    }
}

/* 减少动画模式支持 */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* 深色模式响应式调整 */
@media (prefers-color-scheme: dark) {
    .chart-container {
        background-color: #1f2937;
        border-color: #374151;
    }
    
    .data-table {
        background-color: #1f2937;
        color: #f9fafb;
    }
    
    .data-table th {
        background-color: #374151;
    }
    
    .data-table tr:nth-child(even) {
        background-color: #374151;
    }
}

/* 触摸设备优化 */
@media (hover: none) and (pointer: coarse) {
    .btn,
    .action-btn {
        min-height: 44px;
        min-width: 44px;
    }
    
    .form-control {
        min-height: 44px;
    }
    
    .data-table td {
        padding: 12px 8px;
    }
    
    /* 增大点击区域 */
    .sidebar-nav a {
        padding: 15px 20px;
    }
    
    .dropdown-item {
        padding: 12px 16px;
    }
}

/* 特定组件的响应式调整 */

/* 登录页面响应式 */
@media (max-width: 767px) {
    .login-container {
        padding: 20px;
    }
    
    .login-form {
        padding: 30px 20px;
    }
    
    .login-header h1 {
        font-size: 24px;
    }
}

/* 故障管理页面响应式 */
@media (max-width: 767px) {
    .fault-filters {
        flex-direction: column;
        gap: 15px;
    }
    
    .filter-group {
        width: 100%;
    }
    
    .fault-table-container {
        overflow-x: auto;
    }
    
    .fault-table {
        min-width: 600px;
    }
}

/* 日志分析页面响应式 */
@media (max-width: 767px) {
    .log-query-form {
        grid-template-columns: 1fr;
        gap: 15px;
    }
    
    .log-charts {
        grid-template-columns: 1fr;
    }
    
    .log-entry {
        padding: 15px;
    }
    
    .log-content {
        font-size: 12px;
    }
}

/* 集群监控页面响应式 */
@media (max-width: 767px) {
    .cluster-overview {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .node-list {
        grid-template-columns: 1fr;
    }
    
    .monitoring-charts {
        grid-template-columns: 1fr;
    }
}

/* 滚动条优化 */
@media (max-width: 767px) {
    /* 隐藏滚动条但保持功能 */
    .data-table-container::-webkit-scrollbar {
        height: 4px;
    }
    
    .data-table-container::-webkit-scrollbar-track {
        background: #f1f5f9;
    }
    
    .data-table-container::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 2px;
    }
}