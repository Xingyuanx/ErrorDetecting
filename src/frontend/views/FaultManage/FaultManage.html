<!-- æ•…éšœç®¡ç†é¡µé¢ -->
<div class="fault-manage-page" id="faultManagePage">
    <!-- é¡µé¢å¤´éƒ¨ -->
    <div class="page-header">
        <div class="header-content">
            <h1 class="page-title">æ•…éšœç®¡ç†</h1>
            <p class="page-desc">é›†ä¸­ç®¡ç†å’Œå¤„ç†ç³»ç»Ÿæ•…éšœï¼Œæä¾›å¿«é€Ÿå“åº”å’Œè§£å†³æ–¹æ¡ˆ</p>
        </div>
        <div class="header-actions">
            <button class="btn btn-secondary" id="exportBtn">
                <i class="icon-download"></i>
                <span>å¯¼å‡ºæŠ¥å‘Š</span>
            </button>
            <button class="btn btn-primary" id="createFaultBtn">
                <i class="icon-plus"></i>
                <span>æ‰‹åŠ¨åˆ›å»ºæ•…éšœ</span>
            </button>
        </div>
    </div>

    <!-- æ•…éšœç»Ÿè®¡æ¦‚è§ˆ -->
    <div class="fault-overview">
        <div class="overview-cards">
            <div class="overview-card critical">
                <div class="card-icon">
                    <i class="icon-alert-circle"></i>
                </div>
                <div class="card-content">
                    <div class="card-value">5</div>
                    <div class="card-label">ä¸¥é‡æ•…éšœ</div>
                    <div class="card-trend up">
                        <i class="icon-arrow-up"></i>
                        <span>+2</span>
                    </div>
                </div>
            </div>

            <div class="overview-card high">
                <div class="card-icon">
                    <i class="icon-warning"></i>
                </div>
                <div class="card-content">
                    <div class="card-value">12</div>
                    <div class="card-label">é«˜çº§æ•…éšœ</div>
                    <div class="card-trend down">
                        <i class="icon-arrow-down"></i>
                        <span>-3</span>
                    </div>
                </div>
            </div>

            <div class="overview-card medium">
                <div class="card-icon">
                    <i class="icon-info"></i>
                </div>
                <div class="card-content">
                    <div class="card-value">28</div>
                    <div class="card-label">ä¸­çº§æ•…éšœ</div>
                    <div class="card-trend">
                        <span>æ— å˜åŒ–</span>
                    </div>
                </div>
            </div>

            <div class="overview-card resolved">
                <div class="card-icon">
                    <i class="icon-check-circle"></i>
                </div>
                <div class="card-content">
                    <div class="card-value">156</div>
                    <div class="card-label">å·²è§£å†³æ•…éšœ</div>
                    <div class="card-trend up">
                        <i class="icon-arrow-up"></i>
                        <span>+15</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- æ•…éšœç­›é€‰å’Œæœç´¢ -->
    <div class="fault-filters">
        <div class="filter-section">
            <div class="filter-group">
                <label class="filter-label">æ•…éšœçº§åˆ«</label>
                <select class="form-control" id="severityFilter">
                    <option value="">å…¨éƒ¨çº§åˆ«</option>
                    <option value="critical">ä¸¥é‡</option>
                    <option value="high">é«˜çº§</option>
                    <option value="medium">ä¸­çº§</option>
                    <option value="low">ä½çº§</option>
                </select>
            </div>

            <div class="filter-group">
                <label class="filter-label">æ•…éšœçŠ¶æ€</label>
                <select class="form-control" id="statusFilter">
                    <option value="">å…¨éƒ¨çŠ¶æ€</option>
                    <option value="open">å¾…å¤„ç†</option>
                    <option value="in_progress">å¤„ç†ä¸­</option>
                    <option value="resolved">å·²è§£å†³</option>
                    <option value="closed">å·²å…³é—­</option>
                </select>
            </div>

            <div class="filter-group">
                <label class="filter-label">æ•…éšœç±»å‹</label>
                <select class="form-control" id="typeFilter">
                    <option value="">å…¨éƒ¨ç±»å‹</option>
                    <option value="hardware">ç¡¬ä»¶æ•…éšœ</option>
                    <option value="software">è½¯ä»¶æ•…éšœ</option>
                    <option value="network">ç½‘ç»œæ•…éšœ</option>
                    <option value="performance">æ€§èƒ½é—®é¢˜</option>
                    <option value="security">å®‰å…¨é—®é¢˜</option>
                </select>
            </div>

            <div class="filter-group">
                <label class="filter-label">æ—¶é—´èŒƒå›´</label>
                <select class="form-control" id="timeFilter">
                    <option value="today">ä»Šå¤©</option>
                    <option value="week">æœ¬å‘¨</option>
                    <option value="month" selected>æœ¬æœˆ</option>
                    <option value="quarter">æœ¬å­£åº¦</option>
                    <option value="year">æœ¬å¹´</option>
                </select>
            </div>

            <div class="filter-group search-group">
                <label class="filter-label">æœç´¢</label>
                <div class="search-input">
                    <input type="text" class="form-control" placeholder="æœç´¢æ•…éšœIDã€æ ‡é¢˜æˆ–æè¿°..." id="faultSearch">
                    <i class="icon-search"></i>
                </div>
            </div>

            <div class="filter-actions">
                <button class="btn btn-secondary" id="resetFilters">
                    <i class="icon-refresh"></i>
                    <span>é‡ç½®</span>
                </button>
                <button class="btn btn-primary" id="applyFilters">
                    <i class="icon-filter"></i>
                    <span>åº”ç”¨ç­›é€‰</span>
                </button>
            </div>
        </div>
    </div>

    <!-- æ•…éšœåˆ—è¡¨ -->
    <div class="fault-list-container">
        <div class="list-header">
            <div class="list-title">
                <h2>æ•…éšœåˆ—è¡¨</h2>
                <span class="fault-count">å…± 45 ä¸ªæ•…éšœ</span>
            </div>
            <div class="list-controls">
                <div class="view-toggle">
                    <button class="view-btn active" data-view="list">
                        <i class="icon-list"></i>
                    </button>
                    <button class="view-btn" data-view="card">
                        <i class="icon-grid"></i>
                    </button>
                </div>
                <div class="sort-group">
                    <select class="form-control" id="sortBy">
                        <option value="created_desc">åˆ›å»ºæ—¶é—´ â†“</option>
                        <option value="created_asc">åˆ›å»ºæ—¶é—´ â†‘</option>
                        <option value="severity_desc">ä¸¥é‡ç¨‹åº¦ â†“</option>
                        <option value="severity_asc">ä¸¥é‡ç¨‹åº¦ â†‘</option>
                        <option value="updated_desc">æ›´æ–°æ—¶é—´ â†“</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- æ•…éšœè¡¨æ ¼è§†å›¾ -->
        <div class="fault-table-view" id="faultTableView">
            <table class="fault-table">
                <thead>
                    <tr>
                        <th class="sortable" data-sort="id">
                            <span>æ•…éšœID</span>
                            <i class="icon-sort"></i>
                        </th>
                        <th class="sortable" data-sort="title">
                            <span>æ•…éšœæ ‡é¢˜</span>
                            <i class="icon-sort"></i>
                        </th>
                        <th class="sortable" data-sort="severity">
                            <span>ä¸¥é‡ç¨‹åº¦</span>
                            <i class="icon-sort"></i>
                        </th>
                        <th class="sortable" data-sort="type">
                            <span>æ•…éšœç±»å‹</span>
                            <i class="icon-sort"></i>
                        </th>
                        <th class="sortable" data-sort="status">
                            <span>çŠ¶æ€</span>
                            <i class="icon-sort"></i>
                        </th>
                        <th class="sortable" data-sort="assignee">
                            <span>è´Ÿè´£äºº</span>
                            <i class="icon-sort"></i>
                        </th>
                        <th class="sortable" data-sort="created">
                            <span>åˆ›å»ºæ—¶é—´</span>
                            <i class="icon-sort"></i>
                        </th>
                        <th>æ“ä½œ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="fault-row critical" data-fault-id="FLT-2024-001">
                        <td class="fault-id">
                            <span class="id-text">FLT-2024-001</span>
                        </td>
                        <td class="fault-title">
                            <div class="title-content">
                                <span class="title-text">æ•°æ®åº“è¿æ¥æ± è€—å°½å¯¼è‡´æœåŠ¡ä¸å¯ç”¨</span>
                                <div class="title-meta">
                                    <span class="affected-systems">å½±å“ç³»ç»Ÿ: ç”¨æˆ·æœåŠ¡, è®¢å•æœåŠ¡</span>
                                </div>
                            </div>
                        </td>
                        <td class="fault-severity">
                            <span class="severity-badge critical">ä¸¥é‡</span>
                        </td>
                        <td class="fault-type">
                            <span class="type-badge software">è½¯ä»¶æ•…éšœ</span>
                        </td>
                        <td class="fault-status">
                            <span class="status-badge in-progress">å¤„ç†ä¸­</span>
                        </td>
                        <td class="fault-assignee">
                            <div class="assignee-info">
                                <div class="avatar">å¼ </div>
                                <span class="name">å¼ å·¥ç¨‹å¸ˆ</span>
                            </div>
                        </td>
                        <td class="fault-created">
                            <div class="time-info">
                                <span class="date">2024-01-15</span>
                                <span class="time">14:30</span>
                            </div>
                        </td>
                        <td class="fault-actions">
                            <button class="action-btn" title="æŸ¥çœ‹è¯¦æƒ…" onclick="viewFaultDetail('FLT-2024-001')">
                                <i class="icon-eye"></i>
                            </button>
                            <button class="action-btn" title="ç¼–è¾‘æ•…éšœ" onclick="editFault('FLT-2024-001')">
                                <i class="icon-edit"></i>
                            </button>
                            <button class="action-btn" title="æ›´å¤šæ“ä½œ" onclick="showFaultMenu('FLT-2024-001')">
                                <i class="icon-more"></i>
                            </button>
                        </td>
                    </tr>

                    <tr class="fault-row high" data-fault-id="FLT-2024-002">
                        <td class="fault-id">
                            <span class="id-text">FLT-2024-002</span>
                        </td>
                        <td class="fault-title">
                            <div class="title-content">
                                <span class="title-text">WebæœåŠ¡å™¨CPUä½¿ç”¨ç‡æŒç»­è¶…è¿‡90%</span>
                                <div class="title-meta">
                                    <span class="affected-systems">å½±å“ç³»ç»Ÿ: Webå‰ç«¯</span>
                                </div>
                            </div>
                        </td>
                        <td class="fault-severity">
                            <span class="severity-badge high">é«˜çº§</span>
                        </td>
                        <td class="fault-type">
                            <span class="type-badge performance">æ€§èƒ½é—®é¢˜</span>
                        </td>
                        <td class="fault-status">
                            <span class="status-badge open">å¾…å¤„ç†</span>
                        </td>
                        <td class="fault-assignee">
                            <div class="assignee-info">
                                <div class="avatar">æ</div>
                                <span class="name">æè¿ç»´</span>
                            </div>
                        </td>
                        <td class="fault-created">
                            <div class="time-info">
                                <span class="date">2024-01-15</span>
                                <span class="time">16:45</span>
                            </div>
                        </td>
                        <td class="fault-actions">
                            <button class="action-btn" title="æŸ¥çœ‹è¯¦æƒ…" onclick="viewFaultDetail('FLT-2024-002')">
                                <i class="icon-eye"></i>
                            </button>
                            <button class="action-btn" title="ç¼–è¾‘æ•…éšœ" onclick="editFault('FLT-2024-002')">
                                <i class="icon-edit"></i>
                            </button>
                            <button class="action-btn" title="æ›´å¤šæ“ä½œ" onclick="showFaultMenu('FLT-2024-002')">
                                <i class="icon-more"></i>
                            </button>
                        </td>
                    </tr>

                    <tr class="fault-row resolved" data-fault-id="FLT-2024-003">
                        <td class="fault-id">
                            <span class="id-text">FLT-2024-003</span>
                        </td>
                        <td class="fault-title">
                            <div class="title-content">
                                <span class="title-text">ç½‘ç»œäº¤æ¢æœºç«¯å£æ•…éšœå¯¼è‡´éƒ¨åˆ†èŠ‚ç‚¹ç¦»çº¿</span>
                                <div class="title-meta">
                                    <span class="affected-systems">å½±å“ç³»ç»Ÿ: é›†ç¾¤èŠ‚ç‚¹3-5</span>
                                </div>
                            </div>
                        </td>
                        <td class="fault-severity">
                            <span class="severity-badge medium">ä¸­çº§</span>
                        </td>
                        <td class="fault-type">
                            <span class="type-badge network">ç½‘ç»œæ•…éšœ</span>
                        </td>
                        <td class="fault-status">
                            <span class="status-badge resolved">å·²è§£å†³</span>
                        </td>
                        <td class="fault-assignee">
                            <div class="assignee-info">
                                <div class="avatar">ç‹</div>
                                <span class="name">ç‹ç½‘ç®¡</span>
                            </div>
                        </td>
                        <td class="fault-created">
                            <div class="time-info">
                                <span class="date">2024-01-14</span>
                                <span class="time">09:20</span>
                            </div>
                        </td>
                        <td class="fault-actions">
                            <button class="action-btn" title="æŸ¥çœ‹è¯¦æƒ…" onclick="viewFaultDetail('FLT-2024-003')">
                                <i class="icon-eye"></i>
                            </button>
                            <button class="action-btn" title="æŸ¥çœ‹æŠ¥å‘Š" onclick="viewFaultReport('FLT-2024-003')">
                                <i class="icon-file"></i>
                            </button>
                            <button class="action-btn" title="æ›´å¤šæ“ä½œ" onclick="showFaultMenu('FLT-2024-003')">
                                <i class="icon-more"></i>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- åˆ†é¡µæ§ä»¶ -->
        <div class="pagination-container">
            <div class="pagination-info">
                <span>æ˜¾ç¤º 1-10 æ¡ï¼Œå…± 45 æ¡è®°å½•</span>
            </div>
            <div class="pagination-controls">
                <button class="page-btn" disabled>
                    <i class="icon-chevron-left"></i>
                </button>
                <button class="page-btn active">1</button>
                <button class="page-btn">2</button>
                <button class="page-btn">3</button>
                <span class="page-dots">...</span>
                <button class="page-btn">5</button>
                <button class="page-btn">
                    <i class="icon-chevron-right"></i>
                </button>
            </div>
            <div class="page-size-selector">
                <select class="form-control">
                    <option value="10">10æ¡/é¡µ</option>
                    <option value="20">20æ¡/é¡µ</option>
                    <option value="50">50æ¡/é¡µ</option>
                </select>
            </div>
        </div>
    </div>

    <!-- æ•…éšœè¯¦æƒ…ä¾§è¾¹æ  -->
    <div class="fault-detail-sidebar" id="faultDetailSidebar">
        <div class="sidebar-header">
            <h3 class="sidebar-title">æ•…éšœè¯¦æƒ…</h3>
            <button class="close-btn" id="closeSidebar">
                <i class="icon-x"></i>
            </button>
        </div>
        <div class="sidebar-content">
            <div class="fault-detail-loading">
                <div class="loading-spinner"></div>
                <p>åŠ è½½æ•…éšœè¯¦æƒ…ä¸­...</p>
            </div>
            <!-- æ•…éšœè¯¦æƒ…å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
        </div>
    </div>

    <!-- é®ç½©å±‚ -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
</div>

<!-- æ•…éšœç®¡ç†é¡µé¢å›¾æ ‡æ ·å¼ -->
<style>
/* æ•…éšœç®¡ç†é¡µé¢å›¾æ ‡ */
.icon-alert-circle::before {
    content: "ğŸš¨";
    font-size: 20px;
}

.icon-warning::before {
    content: "âš ï¸";
    font-size: 20px;
}

.icon-info::before {
    content: "â„¹ï¸";
    font-size: 20px;
}

.icon-check-circle::before {
    content: "âœ…";
    font-size: 20px;
}

.icon-download::before {
    content: "â¬‡ï¸";
    font-size: 14px;
}

.icon-plus::before {
    content: "â•";
    font-size: 14px;
}

.icon-filter::before {
    content: "ğŸ”½";
    font-size: 14px;
}

.icon-list::before {
    content: "â˜°";
    font-size: 14px;
}

.icon-grid::before {
    content: "âŠ";
    font-size: 14px;
}

.icon-sort::before {
    content: "â†•ï¸";
    font-size: 12px;
}

.icon-eye::before {
    content: "ğŸ‘ï¸";
    font-size: 14px;
}

.icon-edit::before {
    content: "âœï¸";
    font-size: 14px;
}

.icon-file::before {
    content: "ğŸ“„";
    font-size: 14px;
}

.icon-more::before {
    content: "â‹¯";
    font-size: 14px;
}

.icon-chevron-left::before {
    content: "â—€";
    font-size: 12px;
}

.icon-chevron-right::before {
    content: "â–¶";
    font-size: 12px;
}

.icon-x::before {
    content: "âœ•";
    font-size: 16px;
}

.icon-arrow-up::before {
    content: "â†—ï¸";
    font-size: 12px;
}

.icon-arrow-down::before {
    content: "â†˜ï¸";
    font-size: 12px;
}
</style>